<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js获取请求信息</title>
  </head>
  <body>
    <div id="loginTime"></div>
    <script>
      // 题目地址：https://cdn.jsdelivr.net/gh/orime/picbed/img/9819c8d9a7bdca5cf0a500f3f7313e4.jpg
      const request = new XMLHttpRequest()

      request.open(
        "get",
        "http://localhost:8088/get/data?username=samwiki"
      )
      request.send()
      request.responseType = "json"
      request.onreadystatechange = function () {
        if (request.readyState === 4) {
          if (request.status >= 200 && request.status < 300) {
            let response = {
              data: request.response ? request.response : request.responseText,
              headers: request.getAllResponseHeaders(),
            }
            loginTime.innerText = response.data.loginTime
          } else {
            console.log("发起请求出错")
          }
        }
      }
    </script>
  </body>
</html>
